<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Main page</title>
     
        <!-- CSS -->
        
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">     
        <link rel="stylesheet" href="../assets/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="../assets/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="../assets/css/form-elements.css">
        <link rel="stylesheet" href="../assets/css/style.css">
        <link rel="stylesheet" href="../assets/css/animate.css">

        <!-- Javascript -->
        <script src="../assets/js/jquery-1.12.3.min.js"></script>
        <script src="../assets/bootstrap/js/bootstrap.min.js"></script>
        <script src="../assets/js/jquery.backstretch.min.js"></script>
        <script src="../assets/js/scripts.js"></script>
        <script src="../assets/js/wow.min.js"></script>
        <script src="require.js"></script>
        <!--[if lt IE 10]>
        <!--[if lt IE 10]>
            <script src="assets/js/placeholder.js"></script>
        <![endif]-->
        
        <!-- customized timeline viewer CSS-->
        <link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
        <link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/fonts/font.clicker-garamond.css">

        <!-- customized timeline viewer Javascript -->
        <script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
        

        <style>
        
            .div_margin_top {
                margin-top: 63px;
            }
            p {
                color: linen;
            }
            .timeline_size {
                width: 100%;
                height: 600px;
            }
            hr {
                border-top: 2px dashed #eee;
            }
            .navbar-customized-color {
                background-color: white;
            }
            .hover_effect:hover {
                color: #2d0202;
                background-color: #eee;
            }
        </style>

    </head>

    <body>
        <!-- menu bar -->
            <nav class="navbar navbar-fixed-top navbar-customized-color">
              <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                      </button>
                      <a  class="navbar-brand hover_effect" data-toggle="tooltip" data-placement="bottom" title="Edit here" href="#">Edit here</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                      <ul class="nav navbar-nav">
                        <li class="dropdown">
                          <a class="hover_effect dropdown-toggle" href="#"  data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" >Edit here<span class="caret"></span></a>
                          <ul class="dropdown-menu">
                            <li><a href="#">Edit here</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="#">Edit here</a></li>
                          </ul>
                        </li>
                        <li><a class="hover_effect" href="#" data-toggle="tooltip" data-placement="bottom" title="Edit here">Edit here</a></li>
                        <li><a class="hover_effect" href="#" data-toggle="tooltip" data-placement="bottom" title="Edit here">Edit here</a></li>
                        <li><a class="hover_effect" href="#" data-toggle="tooltip" data-placement="bottom" title="Edit here" >Edit here</a></li>

                      </ul>
                      <ul class="nav navbar-nav navbar-right">

                        <li><a class="hover_effect" href="#" data-toggle="tooltip" data-placement="bottom" title="Edit here"><i class="fa fa-bell-o fa-2x" aria-hidden="true"></i>Edit here</a></li>
                        <li><a class="hover_effect" href="#" data-toggle="tooltip" data-placement="bottom" title="Edit here"><i class="fa fa-sign-out fa-2x" aria-hidden="true"></i>Edit here</a></li>
                      </ul>
                    </div><!--/.nav-collapse -->
              </div>
            </nav>
     
        <div class="div_margin_top">
        
        <p><strong>Design for repository here! still trying to find out a way for showing repository with the good UI design including certain funcationalites</strong></p>
        </div>

        
        

        
        <p>customized timeline view</p>
        <!-- could do some customization -->
        <div id="upleft">
            <div id=repo_oneone>
<!--                 <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image> -->

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>






        </div>

                <div id="upleft1">
            <div id=repo_one>
                <image src="https://firebasestorage.googleapis.com/v0/b/capstone2017-4504b.appspot.com/o/images%2Ft0b0MJbprQdOBoXU9BiV0zmYymA2%2Ffile000656451307.jpg?alt=media&token=b2127f15-c5be-473a-b3bc-88e203b8d7a9"></image>
                <image src="https://firebasestorage.googleapis.com/v0/b/capstone2017-4504b.appspot.com/o/images%2Ft0b0MJbprQdOBoXU9BiV0zmYymA2%2Ffile000656451307.jpg?alt=media&token=b2127f15-c5be-473a-b3bc-88e203b8d7a9"></image>
                <image src="https://firebasestorage.googleapis.com/v0/b/capstone2017-4504b.appspot.com/o/images%2Ft0b0MJbprQdOBoXU9BiV0zmYymA2%2Ffile000656451307.jpg?alt=media&token=b2127f15-c5be-473a-b3bc-88e203b8d7a9"></image>
                <image src="https://firebasestorage.googleapis.com/v0/b/capstone2017-4504b.appspot.com/o/images%2Ft0b0MJbprQdOBoXU9BiV0zmYymA2%2Ffile000656451307.jpg?alt=media&token=b2127f15-c5be-473a-b3bc-88e203b8d7a9"></image>

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>
                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>

        





        </div>

    <div id="upright">RECOMMANDING AREA

                    <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>

                                <div id=repo_one>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>
                <image src="http://i.imgur.com/w9euIVF.png"></image>

            </div>
    </div>
    <button type="button" id="swapPage">Click Me!</button>
<!--         <script src="https://www.gstatic.com/firebasejs/3.6.9/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyD6ZC7v1hVtN1_gNo5M-MbUoXGv6sZXrJE",
            authDomain: "capstone2017-4504b.firebaseapp.com",
            databaseURL: "https://capstone2017-4504b.firebaseio.com",
            storageBucket: "capstone2017-4504b.appspot.com",
            messagingSenderId: "739463464766"
          };
          firebase.initializeApp(config);
        </script>
 -->
<script src="https://www.gstatic.com/firebasejs/3.7.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD6ZC7v1hVtN1_gNo5M-MbUoXGv6sZXrJE",
    authDomain: "capstone2017-4504b.firebaseapp.com",
    databaseURL: "https://capstone2017-4504b.firebaseio.com",
    storageBucket: "capstone2017-4504b.appspot.com",
    messagingSenderId: "739463464766"
  };
  firebase.initializeApp(config);
</script>
<script>

    const dbRefRepo = firebase.database().ref();
    dbRefRepo.on('value', snap => {
       var repo_id_obj = snap.child('users').child('t0b0MJbprQdOBoXU9BiV0zmYymA2').child('repositories').val();
       var photo_array = new Array();
       var repo_id = new Array();
        for( var i = 0; i < Object.keys(repo_id_obj).length ; i++ ){
            repo_id.push(Object.keys(repo_id_obj)[i]);
        }
       console.log(repo_id);
       total_repo_num = repo_id.length;
       //for(repo in repo_id){
        //console.log(repo);
        var photo_id = snap.child('repositories').child(repo_id[0]).child('photos').val();
        console.log(photo_id);
            for(var i = 0 ; i < 4; i++){
                // photo_array.push(Object.keys(photo_id)[i]);
                var temp = Object.keys(photo_id)[i];
                console.log(temp);
                var image_url = snap.child('photographs').child(temp).child('main_url').val();
                //console.log(Object.keys(photo_id)[i]);
                console.log(image_url);
                var image_tag_creation = "<image id="+repo_id[0]+" src="+image_url+"></image>";
                console.log(image_tag_creation);
                $( "#repo_oneone" ).append(image_tag_creation);
            }

       //}
       //console.log(photo_array);

       //var image_tag = "<image src="++"></image>"

    });


</script>
<script>
    $("#swapPage").on("click", function(){
        $(this).parent().parent().find("#upleft").hide();
        $(this).parent().parent().find("#upleft1").show();

    });
    $("#repo_oneone").on("click", function(){
        $.ajax({
        url: 'http://localhost:8888/CAP%20II/main/main.html',
        type: 'POST',
        data: { uid: $("#repo_oneone").attr('id')} ,
        success: function (response) {
            //alert($("#repo_oneone").attr('id'));
            alert("sdfsadfadsf");
        },
        error:function(x,e) {

            if (x.status==0) {
                alert(x.responseText);
            } else if(x.status==404) {
                alert('Requested URL not found.');
            } else if(x.status==500) {
                alert('Internel Server Error.');
            } else if(e=='parsererror') {
                alert('Error. Parsing JSON Request failed.');
            } else if(e=='timeout'){
                alert('Request Time out.');
            } else {
                alert('Unknow Error: '+x.responseText);
            }
        }
    }); 
        //window.location.replace("../main/main.html");

    });

</script>

        
        
           


    </body>

</html>
